 
 #macro( formatAcNo $acNo)
 	#if($acNo && $acNo.length() >4)
 	ending in $acNo.substring($math.sub($acNo.length(),4),$acNo.length())##
 	#elseif($acNo && $acNo == "")
 	--##
 	#end
 #end	
 
 #set($name = "joe")
#set($address = "@hotmail.net")

 #set($accountNumber = "1234 6 8 9 ")



 
 <HTML>
    <HEAD>
      <TITLE>Pet Store Sale!</TITLE>
      <h3> My e-mail address is: $name$address </h3>
       <h3> My Ac no is: $accountNumber.trim(). </h3>
       
       <h3> My Ac no is: $accountNumber.replace(" ", "").</h3>
       
    </HEAD>
    <BODY>
      <CENTER>
      <B>$petList.size() Pets on Sale!</B>
      
      <BR/>
      This is an email generated by velocity
      <BR/>
      This month only, choose from :
    
      #set( $count = 1 )  
      <TABLE>
        #foreach( $pet in $petList )
          <TR>
            <TD>$count)</TD>
            <TD>$pet.name</TD>
            <TD>$pet.price.replaceAll("\\s+","")</TD>
            <TD> Account number is #formatAcNo($pet.price)</TD>
          </TR>
          #set( $count = $count + 1 )
        #end
      </TABLE>
      
     <I>Call Today!</I>
     Bests <br>
     www.java2s.com
      </CENTER>
 
    </BODY>
  </HTML>
